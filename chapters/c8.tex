\begin{theorem}[Бойяи-Гервин]
    Два многоугольника на плоскости равносоставлены тогда и только тогда, когда они равновеликие.
\end{theorem}
\begin{proof}
    Доказательство будет на семинарах (надеюсь, я ничего не перепутал, и это именно данная теорема ушла на семинары).
\end{proof}

\begin{definition}
    Два многоугольника $W_1, W_2$ равносоставлены, если существуют многоугольники $M_1, \dots, M_n$ такие, что:
    \begin{enumerate}
        \item $\forall i, j \ M_i \cap M_j = \emptyset$;
        \item $\bigcup M_i = W_1, \ \bigcup M_j = W_2$.
    \end{enumerate} 
\end{definition}

\begin{theorem}[Ден]
    Куб и правильный тетраэдр равного объёма не равносоставлены.
\end{theorem}

\begin{definition}
    Функция $f$, определённая на множестве $M \subset \R$, называется аддитивной, если $\forall n_1 x_1 + \dots + n_k x_k = 0, \ n_i \in \Z, \ x_i \in M$ выполнено $$n_1 f(x_1) + \dots + n_k f(x_k) = 0.$$ 
\end{definition}

\begin{definition}
    Пусть дан $W$ — многогранник. $\alpha_1, \dots, \alpha_k$ — величины его двугранных углов. Пусть дана аддитивная функция $f$, определённая на множестве $M: \{\alpha_1, \dots, \alpha_k, \pi\} \in M$, причём $f(\pi) = 0$. Тогда инвариантом Дена многогранника $W$ назовём число $f(W) = \sum a_i f(\alpha_i)$ — сумма по всем рёбрам.
\end{definition}

\begin{statement}
    Любой инвариант Дена для куба равен нулю.
\end{statement}
\begin{proof}
    $$2 \cdot \frac{\pi}{2} - \pi = 0$$
    $$2 \cdot f \left(\frac{\pi}2\right) - 1 \cdot f(\pi) = 0 \Rightarrow f \left(\frac{\pi}2\right) = 0 \Rightarrow f(\text{куб}) = 6 \cdot 0 = 0.$$
\end{proof}

\begin{statement}
    Инвариант Дена для призмы равен нулю.
\end{statement}

\begin{theorem}[Хадвигер]
    Пусть $W_1, W_2$ — два многогранника, $f$ — аддитивная фнукиция, область определния которой включает число $\pi$ и величины всех двугранных углов $W_1, W_2$. Пусть $f(W_1) \neq f(W_2)$. Тогда $W_1, W_2$ не равносоставлены.
\end{theorem}

\begin{remark}
    Через эту теорему будем доказывать теорему Дена.
\end{remark}

% \begin{proof}
%     Тише едешь — дальше будешь. Что-то с тетраэром и утверждением о том, что $cos(m \alpha) = \frac{a_m}{3^m}, \ a_m \text{не делится на} 3, \ a_m \in Z$
% \end{proof}

\begin{proof}[Доказательство теоремы Дена]
    Зададим некоторую аддитивную функцию, содержащую величины всех двугранных углов куба $\left(\frac{\pi}{2}\right)$ и правильного тетраэдра $\left(\phi = \arccos{\frac{1}{3}}\right)$, т.е. зададим функцию на множестве $M = \left\{\frac{\pi}{2}, \pi, \arccos{\frac{1}{3}}\right\}$.
    Так как по условию $f(\pi) = 0$, то и $f(\frac{\pi}{2}) = 0$. Примем $f(\phi) = 1$. Посчитаем значение инварианта Дена для этой аддитивной функции для куба и правильного тертаэдра:
    \[f(\text{куб}) = 12 f(\frac{\pi}{2}) = 0\]
    \[f(\text{тетраэдр}) = 6bf(\phi) = 6b \neq 0.\]

    Осталось проверить, что функция, которую мы задали, действительно будет аддитивной. Для любой зависимости вида $$n_1 \pi + n_2 \phi = 0$$ должно выполняться соотношение $$n_1 f(\pi) + n_2 f(\phi) = 0.$$

    Так как $f(\pi) = 0$, а $f(\phi) \neq 0$, это соотношение может быть выполнено только при $n_2 = 0$, иными словами, функция будет аддитивной, если не существует зависимостей вида $n_1 \pi + n_2 \phi = 0$ при $n_2 \neq 0$. Это равносильно следующему утверждению (на лекции был другой пример (вроде), но не суть):

    \begin{lemma}
        Число $\frac{\phi}{\pi}$ иррационально.
    \end{lemma} 
    \begin{proof}
        Пусть $$\frac{\phi}{\pi} = \frac{1}{\pi} \arccos{\frac{1}{3}} = \frac{p}{q} \in \Q$$ — несократимая дробь.
        Пусть также $$\cos{\phi} = \frac{m}{n} \in \Q$$ — несократимая дробь (в нашем случае $\cos{\phi} = \frac{1}{3}$).
        Воспользуемся формулой косинуса двойного угла: если $\cos{\alpha} = \frac{k}{l} \in \Q$, то
        $$\cos{2\alpha} = 2 \frac{k^2}{l^2} - 1 = \frac{2k^2 - l^2}{l^2}$$ — НОД числителя и знаменателя равен 1 либо 2. Но при $l > 2$ выполнено $\frac{l^2}{2} > l$. Поэтому в последовательности $$\cos{\phi}, \cos{2\phi}, \cos{4\phi}, \cdots, \cos{2^r \phi}, \cdots$$ нет повторяющихся чисел (так как знаменатели дробей возрастают).

        С другой стороны, в последовательности
        $$\phi, 2\phi, 4\phi, \cdots, 2^r \phi, \cdots$$
        будут углы, равные по модулю $2 \pi$: действительно, если $\phi = \frac{p}{q} \pi$, то в последовательности
        $$\frac{p}{q} \pi, 2 \frac{p}{q} \pi, 4 \frac{p}{q} \pi, \cdots, 2^r \frac{p}{q} \pi, \cdots$$
        может быть всего $2q - 1$ различных числа (по модулю $2 \pi$), поэтому достаточно взять $r = 2q$.

        Получили противоречие — у чисел, равных по модулю $2 \pi$, косинусы должны быть равны, но в последовательности, содержащей косинусы этих чисел, нет одинаковых членов.
    \end{proof}
    Тем самым, лемма доказана, а значит, доказана и аддитивность $f$. Поэтому (по теоерме Хадвигера) куб и правильный тетраэдр не равносоставлены, и теорема Дена доказана.
\end{proof}

\begin{proof}[Доказательство теоремы Хадвигера]

\begin{lemma}[1]
    Пусть $f$ — аддитивная функция, определённая на множестве $M: \ \alpha \in \R, \ \alpha \notin M$. Тогда существует аддитивная функция $\tilde{f_i}$, определённая на $M \cup \{\alpha\}$ такая, что $\forall x \in M: \ f(x) = \tilde{f}{x}$
\end{lemma}
\begin{proof}
    Если между $\alpha$ и числами из $M$ нет зависимости, то $\tilde{f}(\alpha)$ — любое число. Пусть зависимость есть, то есть существуют целые $n_0, \dots, n_k$: $$n_0 \alpha + n_1 x_1 + \dots + n_k x_k = 0 \ x_i \in M, \ n_0 \neq 0.$$
    Тогда $f(\alpha) := - \frac{n_1 f(x_1) + n_2 f(x_2) + \dots + n_k f(x_k)}{n_0}$. Пусть есть другая зависимость $m_0 \alpha + m_1 y_1 + \dots + m_l y_l = 0, \ y_j \in M, \ m_0 \neq 0$. Верно ли $0 = m_0 f(\alpha) + m_1 f(y_1) + \dots + m_l f(y_l) = - \frac{m_0}{n_0} \left(n_1 f(x_1) + \dots + n_k f(x_k)\right) + m_1 f(y_1) + \dots + m_l f(y_l) = \frac{-m_0 n_1 f(x_1) - \dots - m_0 n_k f(x_k) + n_0 m_1 f(y_1) + \dots + n_0 m_l f(y_l)}{n_0}$?
    $$-m_0 n_1 x_1 - \dots - m_0 n_k x_k + m_0 n_0 y_1 + \dots + m_l n_0 y_l = 0$$
\end{proof}

\begin{lemma}[2]
    Пусть $W$ — многогранник, состоящий (разбитый в объединение непересекающихся) из многогранников $P_1, \dots, P_k$. $f$ — аддитивная функция, определённая на $\pi$ и всех двугранных углах многогранников $W,P_1, \dots, P_k$. Тогда $f(W) = \sum f(P_i)$.
\end{lemma}

\begin{remark}
    Из лемм (1)-(2) будет следовать теорема Хадвигера.
\end{remark}
\end{proof}